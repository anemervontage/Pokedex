{"ast":null,"code":"import'./Home.css';import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){const[pokemons,setPokemons]=useState([]);const[selectedPokemon,setSelectedPokemon]=useState({name:'',img:'',desc:''});const[selectedIndex,setSelectedIndex]=useState(-1);// Start with no dropdown selection\n// Fetch data from API to render to home page.\nuseEffect(()=>{const fetchPokemon=async()=>{try{const response=await axios.get('http://localhost:4000/api/pokemon');setPokemons(response.data);}catch(error){console.log('Failed to get pokemon',error);}};// Call function to fetch data\nfetchPokemon();},[]);// Update selected Pokemon when dropdown changes\nconst onDropdownSelect=event=>{const selectedId=event.target.value;const pokemon=pokemons.find(pokemon=>pokemon._id===selectedId);setSelectedPokemon({name:pokemon.name,img:pokemon.img,desc:pokemon.desc});setSelectedIndex(pokemons.findIndex(pokemon=>pokemon._id===selectedId));};// Navigate to next Pokemon\nconst next=()=>{setSelectedIndex(function(prevIndex){return(prevIndex+1)%pokemons.length;});};// Navigate to previous Pokemon\nconst prev=()=>{setSelectedIndex(function(prevIndex){if(prevIndex===0){return pokemons.length-1;}else{return prevIndex-1;}});};useEffect(()=>{// Update selectedPokemon whenever selectedIndex changes\nif(selectedIndex!==-1&&pokemons.length>0){setSelectedPokemon({name:pokemons[selectedIndex].name,img:pokemons[selectedIndex].img,desc:pokemons[selectedIndex].desc});}},[selectedIndex,pokemons]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"head\",{}),/*#__PURE__*/_jsx(\"body\",{children:/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{/* Makes sure document is blank when index is -1 */value:selectedIndex!==-1?pokemons[selectedIndex]._id:'',id:\"dropdown\",className:\"dropdown\",onChange:onDropdownSelect,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:selectedIndex!==-1,children:\"Choose Pokemon\"}),pokemons.map(pokemon=>/*#__PURE__*/_jsx(\"option\",{value:pokemon._id,children:pokemon.name},pokemon._id))]})}),selectedPokemon.img&&/*#__PURE__*/_jsx(\"img\",{src:selectedPokemon.img,alt:\"pokemon\",className:\"pokemon_image\",id:\"imgs\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"pokemon_data\",children:/*#__PURE__*/_jsx(\"span\",{className:\"pokemon_name\",id:\"names\",children:selectedPokemon.name})}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"input_search\",id:\"descs\",children:selectedPokemon.desc})}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button btn-prev\",onClick:prev,children:\"Prev <\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button btn-next\",onClick:next,children:\"Next >\"})]}),/*#__PURE__*/_jsx(\"img\",{src:\"https://pokedex-conrado.vercel.app/images/pokedex.png\",alt:\"pokedex\",className:\"pokedex\"})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","pokemons","setPokemons","selectedPokemon","setSelectedPokemon","name","img","desc","selectedIndex","setSelectedIndex","fetchPokemon","response","get","data","error","console","log","onDropdownSelect","event","selectedId","target","value","pokemon","find","_id","findIndex","next","prevIndex","length","prev","children","id","className","onChange","disabled","map","src","alt","onClick"],"sources":["/Users/txt./Desktop/PokeProj/Pokedex/pokedexFront/src/Pages/Home.jsx"],"sourcesContent":["import './Home.css'\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nexport default function Home() {\n  const [pokemons, setPokemons] = useState([]);\n  const [selectedPokemon, setSelectedPokemon] = useState({\n    name: '',\n    img: '',\n    desc: ''\n  });\n  \n  const [selectedIndex, setSelectedIndex] = useState(-1); // Start with no dropdown selection\n\n  // Fetch data from API to render to home page.\n  useEffect(() => {\n    const fetchPokemon = async () => {\n      try {\n        const response = await axios.get('http://localhost:4000/api/pokemon');\n        setPokemons(response.data);\n      } catch (error) {\n        console.log('Failed to get pokemon', error);\n      }\n    };\n\n    // Call function to fetch data\n    fetchPokemon();\n  }, []);\n\n  // Update selected Pokemon when dropdown changes\n  const onDropdownSelect = (event) => {\n    const selectedId = event.target.value;\n      const pokemon = pokemons.find((pokemon) => pokemon._id === selectedId);\n      setSelectedPokemon({\n        name: pokemon.name,\n        img: pokemon.img,\n        desc: pokemon.desc\n      });\n      setSelectedIndex(pokemons.findIndex((pokemon) => pokemon._id === selectedId));\n    \n  };\n\n  // Navigate to next Pokemon\n  const next = () => {\n    setSelectedIndex(function(prevIndex) {\n      return (prevIndex + 1) % pokemons.length;\n    });\n  };\n\n  // Navigate to previous Pokemon\n  const prev = () => {\n    setSelectedIndex(function(prevIndex) {\n      if (prevIndex === 0) {\n        return pokemons.length - 1;\n      } else {\n        return prevIndex - 1;\n      }\n    });\n  };\n\n  useEffect(() => {\n    // Update selectedPokemon whenever selectedIndex changes\n    if (selectedIndex !== -1 && pokemons.length > 0) {\n      setSelectedPokemon({\n        name: pokemons[selectedIndex].name,\n        img: pokemons[selectedIndex].img,\n        desc: pokemons[selectedIndex].desc\n      });\n    } \n  }, [selectedIndex, pokemons]);\n\n  return (\n    <>\n      <head>\n      </head>\n      <body>\n        <main>\n          <div>\n            <select\n            /* Makes sure document is blank when index is -1 */\n              value={selectedIndex !== -1 ? pokemons[selectedIndex]._id : ''}\n\n              id=\"dropdown\"\n              className=\"dropdown\"\n              onChange={onDropdownSelect}\n            >\n              <option value=\"\" disabled={selectedIndex !== -1}>\n                Choose Pokemon\n              </option>\n              {pokemons.map((pokemon) => (\n                <option key={pokemon._id} value={pokemon._id}>\n                  {pokemon.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {selectedPokemon.img && (\n            <img\n              src={selectedPokemon.img}\n              alt=\"pokemon\"\n              className=\"pokemon_image\"\n              id=\"imgs\"\n            />\n          )}\n\n          <h1 className=\"pokemon_data\">\n            <span className=\"pokemon_name\" id=\"names\">\n              {selectedPokemon.name}\n            </span>\n          </h1>\n\n          <form>\n            <p className=\"input_search\" id=\"descs\">\n              {selectedPokemon.desc}\n            </p>\n          </form>\n\n          <div className=\"buttons\">\n            <button className=\"button btn-prev\" onClick={prev}>\n              Prev &lt;\n            </button>\n            <button className=\"button btn-next\" onClick={next}>\n              Next &gt;\n            </button>\n          </div>\n\n          <img\n            src=\"https://pokedex-conrado.vercel.app/images/pokedex.png\"\n            alt=\"pokedex\"\n            className=\"pokedex\"\n          />\n        </main>\n      </body>\n    </>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}